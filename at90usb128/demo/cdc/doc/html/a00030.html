<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Atmel: scheduler.txt File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>scheduler.txt File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Simple Scheduler OVERVIEW <br>
This module is a simple scheduler <br>
CONFIGURATION&lt; PRE &gt; In config <br>
none constrainst it is possible <br>
<a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler <br>
type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#7e7bf19230367c8308d15c5422971812">Scheduler_task_x_init</a> (optional, except Scheduler_task_1_init) x from 1 <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> 11</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Simple Scheduler OVERVIEW <br>
This module is a simple scheduler <br>
CONFIGURATION&lt; PRE &gt; In config <br>
none constrainst it is possible <br>
<a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler <br>
type defines the init&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#1f1f5de7a2ce9bd8864a8eb3da518a4a">functions</a> (init of task or general purpose init) 3/Scheduler_task_x(optional</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Simple Scheduler OVERVIEW <br>
This module is a simple scheduler <br>
CONFIGURATION&lt; PRE &gt; In config <br>
none constrainst it is possible <br>
<a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler <br>
type defines the init except <br>
Scheduler_task_1 x from defines <br>
the task functions&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#fa3199560c2fe581dfa86b732c71c957">Scheduler_time_init</a> (optional) defines the function that will be called <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> initialize time events</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#ac47313d2feeea0627a5469b1a311547">scheduler_tasks</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Task execution scheduler.  <a href="#ac47313d2feeea0627a5469b1a311547"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#9fa00b0be5d3c4781048861e2506eb63">scheduler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init &amp; run the scheduler.  <a href="#9fa00b0be5d3c4781048861e2506eb63"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#3f25f16571b50207c563196ce3d1385c">scheduler_empty_fct</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Do nothing Avoid uncalled segment warning if the empty function is not used.  <a href="#3f25f16571b50207c563196ce3d1385c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Simple Scheduler OVERVIEW <br>
This module is a simple scheduler <br>
CONFIGURATION&lt; PRE &gt; In config&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#ed5dc15ac85ff3c7d7fa42347be906da">h</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Simple Scheduler OVERVIEW <br>
This module is a simple scheduler <br>
CONFIGURATION&lt; PRE &gt; In config <br>
none constrainst&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#6f2903196af3613a2558e4dda670f616">SCHEDULER_TIMED</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Simple Scheduler OVERVIEW <br>
This module is a simple scheduler <br>
CONFIGURATION&lt; PRE &gt; In config <br>
none constrainst it is possible <br>
<a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler <br>
type defines the init except <br>
Scheduler_task_1 x from&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a></td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7e7bf19230367c8308d15c5422971812"></a><!-- doxytag: member="scheduler.txt::Scheduler_task_x_init" ref="7e7bf19230367c8308d15c5422971812" args="(optional, except Scheduler_task_1_init) x from 1 to 11" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simple Scheduler OVERVIEW This module is a simple scheduler CONFIGURATION&lt;PRE&gt; In config none constrainst it is possible <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler type Scheduler_task_x_init           </td>
          <td>(</td>
          <td class="paramtype">optional&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">except&nbsp;</td>
          <td class="paramname"> <em>Scheduler_task_1_init</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1f1f5de7a2ce9bd8864a8eb3da518a4a"></a><!-- doxytag: member="scheduler.txt::functions" ref="1f1f5de7a2ce9bd8864a8eb3da518a4a" args="(init of task or general purpose init) 3/Scheduler_task_x(optional" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simple Scheduler OVERVIEW This module is a simple scheduler CONFIGURATION&lt;PRE&gt; In config none constrainst it is possible <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler type defines the init functions           </td>
          <td>(</td>
          <td class="paramtype">init of task or general purpose&nbsp;</td>
          <td class="paramname"> <em>init</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fa3199560c2fe581dfa86b732c71c957"></a><!-- doxytag: member="scheduler.txt::Scheduler_time_init" ref="fa3199560c2fe581dfa86b732c71c957" args="(optional) defines the function that will be called to initialize time events" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simple Scheduler OVERVIEW This module is a simple scheduler CONFIGURATION&lt;PRE&gt; In config none constrainst it is possible <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler type defines the init except Scheduler_task_1 x from defines the task functions Scheduler_time_init           </td>
          <td>(</td>
          <td class="paramtype">optional&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="a00106.html#l00026">26</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.
<p>
Referenced by <a class="el" href="a00104.html#l00049">scheduler_init()</a>.<div class="fragment"><pre class="fragment"><a name="l00027"></a>00027                                                                   : soft timers, tempo...
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 5/ SCHEDULER_ENABLE_IT (optional)
<a name="l00030"></a>00030 allow <a class="code" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> enable interrupts after all initializations
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 6/ '<span class="preprocessor">#define scheduler main' (optional)</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="keywordflow">if</span> the <a class="code" href="a00022.html#840291bc02cba5474a4cb46a9b9566fe">main</a> is only a call <a class="code" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> the <a class="code" href="a00028.html#9fa00b0be5d3c4781048861e2506eb63">scheduler</a>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 7/ TOKEN_MODE (optional)
<a name="l00036"></a>00036 To activate a token variable <a class="code" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> avoid that tasks executes at same time. 
<a name="l00037"></a>00037 A unique token <a class="code" href="a00023.html#77ceac8d6af195fe72f95f6afd87c45e">ID</a> must be defined <span class="keywordflow">for</span> each task that cannot been executed in parallel.
<a name="l00038"></a>00038 (Example : #define TASK_TOKEN_ID TASK_ID)
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 EXAMPLE
<a name="l00041"></a>00041 -------
<a name="l00042"></a>00042 |
<a name="l00043"></a>00043 |<span class="comment">// File: config.h</span>
<a name="l00044"></a>00044 |#define <a class="code" href="a00030.html#fa3199560c2fe581dfa86b732c71c957">Scheduler_time_init</a>     init_soft_timers
<a name="l00045"></a>00045 |
<a name="l00046"></a>00046 |#define <a class="code" href="a00018.html#d1430db18d50088bee53d71d25c0d4c1">Scheduler_task_1_init</a>   twi_lib_init
<a name="l00047"></a>00047 |#define <a class="code" href="a00018.html#91e1a5ae57b85b501f63d8af3b07b05d">Scheduler_task_2_init</a>   init_leds_task
<a name="l00048"></a>00048 |#define Scheduler_task_3_init   stdo_init
<a name="l00049"></a>00049 |#define Scheduler_task_4_init   init_main_task
<a name="l00050"></a>00050 |#define Scheduler_task_5_init   stdi_init
<a name="l00051"></a>00051 |
<a name="l00052"></a>00052 |#define <a class="code" href="a00018.html#5d06b1c4417ef023511784296173b958">Scheduler_task_1</a>        leds_task
<a name="l00053"></a>00053 |#define Scheduler_task_3        main_task
<a name="l00054"></a>00054 |#define Scheduler_task_4        stdi_update_kbhit
<a name="l00055"></a>00055 |
<a name="l00056"></a>00056 |#define <a class="code" href="a00018.html#1b057a4a2df7aa359203be3046b47a98">SCHEDULER_TYPE</a>          <a class="code" href="a00029.html#6623819e872e1a23ee7e0a079795e25f">SCHEDULER_FREE</a>
<a name="l00057"></a>00057 |
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">// File: scheduler.c / scheduler.h (after precompiler)</span>
<a name="l00060"></a>00060 <span class="keywordtype">void</span> <a class="code" href="a00028.html#b258cc2856e5f6bb125907cc23358fbd">scheduler_init</a> (<span class="keywordtype">void</span>)
<a name="l00061"></a>00061  {
<a name="l00062"></a>00062   init_soft_timers();  
<a name="l00063"></a>00063   twi_lib_init();  
<a name="l00064"></a>00064   init_leds_task();  
<a name="l00065"></a>00065   stdo_init();  
<a name="l00066"></a>00066   init_main_task();  
<a name="l00067"></a>00067   stdi_init();  
<a name="l00068"></a>00068   ;
<a name="l00069"></a>00069  }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ac47313d2feeea0627a5469b1a311547"></a><!-- doxytag: member="scheduler.txt::scheduler_tasks" ref="ac47313d2feeea0627a5469b1a311547" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduler_tasks           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Task execution scheduler. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Code:XX bytes (function code length)</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>:none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>:none </dd></dl>

<p>
Definition at line <a class="el" href="a00106.html#l00072">72</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.
<p>
References <a class="el" href="a00105.html#l00177">Scheduler_call_next_task</a>, <a class="el" href="a00104.html#l00185">scheduler_empty_fct()</a>, <a class="el" href="a00105.html#l00180">Scheduler_new_schedule</a>, <a class="el" href="a00094.html#l00022">Scheduler_task_1</a>, and <a class="el" href="a00094.html#l00024">Scheduler_task_2</a>.<div class="fragment"><pre class="fragment"><a name="l00073"></a>00073  {
<a name="l00074"></a>00074  <a class="code" href="a00028.html#3f25f16571b50207c563196ce3d1385c">scheduler_empty_fct</a>();  
<a name="l00075"></a>00075  <span class="keywordflow">for</span>(;;)
<a name="l00076"></a>00076    {
<a name="l00077"></a>00077    leds_task();
<a name="l00078"></a>00078    ;
<a name="l00079"></a>00079    main_task();
<a name="l00080"></a>00080    ;
<a name="l00081"></a>00081    stdi_update_kbhit();
<a name="l00082"></a>00082    ;
<a name="l00083"></a>00083    ;
<a name="l00084"></a>00084    }
<a name="l00085"></a>00085  }
</pre></div>
<p>

<p>
Here is the call graph for this function:<p><center><img src="a00030_ac47313d2feeea0627a5469b1a311547_cgraph.png" border="0" usemap="#a00030_ac47313d2feeea0627a5469b1a311547_cgraph_map" alt=""></center>
<map name="a00030_ac47313d2feeea0627a5469b1a311547_cgraph_map">
<area href="a00028.html#3f25f16571b50207c563196ce3d1385c" shape="rect" coords="175,5,319,32" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="9fa00b0be5d3c4781048861e2506eb63"></a><!-- doxytag: member="scheduler.txt::scheduler" ref="9fa00b0be5d3c4781048861e2506eb63" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduler           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Init &amp; run the scheduler. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Code:XX bytes (function code length)</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>:none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>:none </dd></dl>

<p>
Definition at line <a class="el" href="a00106.html#l00088">88</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.
<p>
References <a class="el" href="a00104.html#l00049">scheduler_init()</a>, and <a class="el" href="a00104.html#l00110">scheduler_tasks()</a>.<div class="fragment"><pre class="fragment"><a name="l00089"></a>00089  {
<a name="l00090"></a>00090  <a class="code" href="a00028.html#b258cc2856e5f6bb125907cc23358fbd">scheduler_init</a>();
<a name="l00091"></a>00091  <a class="code" href="a00028.html#ac47313d2feeea0627a5469b1a311547">scheduler_tasks</a>();
<a name="l00092"></a>00092  }
</pre></div>
<p>

<p>
Here is the call graph for this function:<p><center><img src="a00030_9fa00b0be5d3c4781048861e2506eb63_cgraph.png" border="0" usemap="#a00030_9fa00b0be5d3c4781048861e2506eb63_cgraph_map" alt=""></center>
<map name="a00030_9fa00b0be5d3c4781048861e2506eb63_cgraph_map">
<area href="a00028.html#b258cc2856e5f6bb125907cc23358fbd" shape="rect" coords="141,5,245,32" alt="">
<area href="a00028.html#ac47313d2feeea0627a5469b1a311547" shape="rect" coords="135,56,252,83" alt="">
<area href="a00030.html#fa3199560c2fe581dfa86b732c71c957" shape="rect" coords="301,5,440,32" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="3f25f16571b50207c563196ce3d1385c"></a><!-- doxytag: member="scheduler.txt::scheduler_empty_fct" ref="3f25f16571b50207c563196ce3d1385c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduler_empty_fct           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do nothing Avoid uncalled segment warning if the empty function is not used. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Code:XX bytes (function code length)</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>:none</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>:none </dd></dl>

<p>
Definition at line <a class="el" href="a00106.html#l00095">95</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.<div class="fragment"><pre class="fragment"><a name="l00096"></a>00096  {
<a name="l00097"></a>00097  }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ed5dc15ac85ff3c7d7fa42347be906da"></a><!-- doxytag: member="scheduler.txt::h" ref="ed5dc15ac85ff3c7d7fa42347be906da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simple Scheduler OVERVIEW This module is a simple scheduler CONFIGURATION&lt;PRE&gt; In config <a class="el" href="a00030.html#ed5dc15ac85ff3c7d7fa42347be906da">h</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="a00106.html#l00015">15</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.
</div>
</div><p>
<a class="anchor" name="6f2903196af3613a2558e4dda670f616"></a><!-- doxytag: member="scheduler.txt::SCHEDULER_TIMED" ref="6f2903196af3613a2558e4dda670f616" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simple Scheduler OVERVIEW This module is a simple scheduler CONFIGURATION&lt;PRE&gt; In config none constrainst <a class="el" href="a00030.html#6f2903196af3613a2558e4dda670f616">SCHEDULER_TIMED</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="a00106.html#l00015">15</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.
</div>
</div><p>
<a class="anchor" name="3bfec48909cfe6ef7aee80a64119c208"></a><!-- doxytag: member="scheduler.txt::to" ref="3bfec48909cfe6ef7aee80a64119c208" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simple Scheduler OVERVIEW This module is a simple scheduler CONFIGURATION&lt;PRE&gt; In config none constrainst it is possible <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a> define another scheduler type defines the init except Scheduler_task_1 x from <a class="el" href="a00030.html#3bfec48909cfe6ef7aee80a64119c208">to</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="a00106.html#l00024">24</a> of file <a class="el" href="a00106.html">scheduler.txt</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jan 26 10:50:05 2007 for Atmel by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
